webpackJsonp([1],{"+FD2":function(t,e){},"3V4k":function(t,e){},EZDV:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),s=n("mvHQ"),i=n.n(s),r=n("Xxa5"),o=n.n(r),c=n("exGp"),l=n.n(c),u=n("Gu7T"),d=n.n(u),f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("b-tabs",{attrs:{expanded:""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},t._l(t.tabs,function(t){return n("b-tab-item",{key:t.id,attrs:{label:t.text,icon:t.icon}})}))],1)},staticRenderFns:[]};var p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card article"},[n("div",{staticClass:"card-content"},[n("article",{staticClass:"media"},[n("div",{staticClass:"media-left"},[n("figure",{staticClass:"image is-128x128"},[n("img",{attrs:{src:t.image||"http://www.oneilllogistics.com/content/images/news.png",alt:"Image"}})])]),t._v(" "),n("div",{staticClass:"media-content"},[n("p",[n("strong",[t._v(t._s(t.title))]),n("small",{staticClass:"is-pulled-right"},[t._v(t._s(new Date(t.date).toLocaleString()))]),t._v(" "),n("br")]),t._v("\n            "+t._s(t.content)+"\n        ")])])]),t._v(" "),n("footer",{staticClass:"card-footer"},[n("a",{staticClass:"card-footer-item",attrs:{href:"#"}},[t._v("Save")]),t._v(" "),n("a",{staticClass:"card-footer-item",attrs:{href:t.link,target:"_blank"}},[t._v("Open")])])])},staticRenderFns:[]};var m={name:"AddTopics",props:["tags"],data:function(){return{newTags:[]}},methods:{addNewTags:function(){this.$emit("add-new-tags",[].concat(d()(this.tags),d()(this.newTags)).map(function(t){return{type:"custom",icon:"bookmark",text:t}})),this.newTags=[]},removeTag:function(t){this.$emit("remove-tag",t)}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"add-topics"},[n("div",{staticClass:"subtitle my-title 3"},[t._v("Add Keywords to get updated about")]),t._v(" "),n("b-field",{attrs:{grouped:""}},[n("b-taginput",{attrs:{expanded:"",icon:"fa fa-tags",type:"is-primary"},model:{value:t.newTags,callback:function(e){t.newTags=e},expression:"newTags"}}),t._v(" "),n("p",{staticClass:"control"},[n("button",{staticClass:"button is-primary",on:{click:t.addNewTags}},[t._v("Add To Topics")])])],1),t._v(" "),n("div",{staticClass:"tags"},[n("div",{staticClass:"field"},t._l(t.tags,function(e,a){return n("b-tag",{key:a,attrs:{type:"is-primary is-medium",closable:""},on:{close:function(n){t.removeTag(e)}}},[t._v("\n        "+t._s(e)+"\n      ")])}))])],1)},staticRenderFns:[]};var b={name:"App",data:function(){return{API_URL:"https://newsapi.org/v2/top-headlines?country=ng&apiKey=ba09ef9453bd4b4bad5cd307ad133ef0&category=",CUSTOM:"https://newsapi.org/v2/everything?apiKey=ba09ef9453bd4b4bad5cd307ad133ef0&q=",results:[],fetching:!1,activeTab:0,type:"normal",tabs:[{type:"normal",text:"General",icon:"bell"},{type:"normal",text:"Science",icon:"flask"},{type:"normal",text:"Technology",icon:"rocket"},{type:"normal",text:"Sports",icon:"bookmark"},{type:"normal",text:"Business",icon:"briefcase"}],loadingComponent:null}},components:{MyTabs:n("VU/8")({name:"MyTabs",props:["tabs","customTabs"],data:function(){return{activeTab:0,results:[]}},mounted:function(){this.$emit("tab-change",this.activeTab)},watch:{activeTab:function(t,e){this.$emit("tab-change",t)}}},f,!1,function(t){n("3V4k")},null,null).exports,NewsArticle:n("VU/8")({name:"NewsArticle",props:["image","title","content","link","date"]},p,!1,function(t){n("+FD2")},null,null).exports,AddTopics:n("VU/8")(m,v,!1,function(t){n("EZDV")},null,null).exports},watch:{fetching:function(t){t?this.loadingComponent=this.$loading.open({container:document.querySelector(".articles")}):this.loadingComponent.close()}},beforeMount:function(){for(var t in this.tabs)this.results[t]={}},mounted:function(){var t=this;if(localStorage.getItem("articles"))try{JSON.parse(localStorage.getItem("articles")).forEach(function(e,n){t.results[n]=e})}catch(t){}},methods:{addNewTags:function(t){console.log(t),this.tabs=[].concat(d()(this.tabs.filter(function(t){return"normal"===t.type})),d()(t))},removeTag:function(t){var e=this.tabs.findIndex(function(e){return e.text===t});this.tabs=this.tabs.filter(function(e){return e.text!==t}),this.results.filter(function(t,n){return n!==e}),this.storeResults()},handleTabChange:function(t){var e=this.tabs.find(function(e,n){return n===t}).type;this.type=e,this.activeTab=t,"normal"===e?this.fetchPosts(t):this.fetchCustom(t)},fetchCustom:function(t){var e=this;return l()(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(e.CUSTOM+e.tabs[t].text).then(function(t){return t.json()});case 3:e.results[t]=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),e.$toast.open({message:"Couldn't fetch "+e.tabs[t].text+" stories. Are you online? üòè",position:"is-bottom",duration:4e3});case 9:case"end":return n.stop()}},n,e,[[0,6]])}))()},fetchPosts:function(t){var e=this;return l()(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.results[t].articles||(e.fetching=!0),n.prev=1,n.next=4,fetch(e.API_URL+e.tabs[t].text).then(function(t){return t.json()});case 4:e.results[t]=n.sent,e.storeResults(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),e.$toast.open({message:"Couldn't fetch news. Are you online? üòè",position:"is-bottom",duration:4e3});case 11:e.fetching=!1;case 12:case"end":return n.stop()}},n,e,[[1,8]])}))()},storeResults:function(){localStorage.setItem("articles",i()(this.results))}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"my-navbar"},[n("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[n("h1",{staticClass:"title is-3 my-title"},[t._v("Newzz")]),t._v(" "),n("div",{on:{click:function(){return t.type="+"}}},[n("b-icon",{attrs:{icon:"plus"}})],1)]),t._v(" "),n("MyTabs",{attrs:{tabs:t.tabs},on:{"tab-change":t.handleTabChange}})],1),t._v(" "),"+"===t.type?n("AddTopics",{attrs:{tags:t.tabs.filter(function(t){return"custom"==t.type}).map(function(t){return t.text})},on:{"add-new-tags":t.addNewTags,"remove-tag":t.removeTag}}):n("div",{staticClass:"articles"},t._l(t.results[t.activeTab].articles,function(t,e){return n("NewsArticle",{key:e,attrs:{title:t.title,content:t.description,link:t.url,date:t.publishedAt,image:t.urlToImage}})}))],1)},staticRenderFns:[]};var g=n("VU/8")(b,h,!1,function(t){n("XDlQ")},null,null).exports,T=n("MMSg"),y=n.n(T);n("doPI");a.a.use(y.a,{defaultIconPack:"fa"}),a.a.config.productionTip=!1,new a.a({el:"#app",components:{App:g},template:"<App/>"})},XDlQ:function(t,e){},doPI:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.a07004c3da20304abd7b.js.map